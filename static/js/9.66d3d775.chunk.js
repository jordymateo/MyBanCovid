(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{109:function(e,t,a){"use strict";var n=a(32),c=a.n(n),r=a(31),i={crear:function(e){return new Promise(function(t,a){e.ClienteId=r.a.userData.Id,c.a.post("".concat("https://bancovid.azurewebsites.net","/api/beneficiarios/crear"),e).then(function(e){t(e.data)}).catch(function(e){a(e)})})},editar:function(e){return new Promise(function(t,a){e.ClienteId=r.a.userData.Id,c.a.put("".concat("https://bancovid.azurewebsites.net","/api/beneficiarios/editar"),e).then(function(e){t(e.data)}).catch(function(e){a(e)})})},obtenerTodos:function(){return new Promise(function(e,t){c.a.get("".concat("https://bancovid.azurewebsites.net","/api/beneficiarios/obtenertodos?clienteId=").concat(r.a.userData.Id)).then(function(t){e(t.data)}).catch(function(e){t(e)})})}};t.a=i},141:function(e,t,a){"use strict";var n=a(78),c=a(80),r=a(79),i=a.n(r),l=a(0),o=a.n(l),s=a(81),u=o.a.forwardRef(function(e,t){var a=e.bsPrefix,r=e.className,l=e.striped,u=e.bordered,m=e.borderless,d=e.hover,b=e.size,f=e.variant,E=e.responsive,h=Object(c.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),p=Object(s.a)(a,"table"),v=i()(r,p,f&&p+"-"+f,b&&p+"-"+b,l&&p+"-striped",u&&p+"-bordered",m&&p+"-borderless",d&&p+"-hover"),g=o.a.createElement("table",Object(n.a)({},h,{className:v,ref:t}));if(E){var N=p+"-responsive";return"string"===typeof E&&(N=N+"-"+E),o.a.createElement("div",{className:N},g)}return g});t.a=u},157:function(e,t,a){"use strict";a.r(t);var n=a(34),c=a(9),r=a(83),i=a(0),l=a.n(i),o=a(117),s=a(106),u=a(118),m=a(141),d=a(164),b=a(139),f=a(156),E=a(163),h=a(86),p=a(88),v=a(89),g=a(92),N=a(25),C=a(109),w=a(85),O=a(84),j=a(102),y=a.n(j),A=a(82);t.default=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),a=t[0],j=t[1],T=Object(i.useState)(!1),D=Object(r.a)(T,2),x=D[0],I=D[1],B=Object(i.useState)([]),k=Object(r.a)(B,2),L=k[0],S=k[1],z=Object(i.useState)(!1),M=Object(r.a)(z,2),P=M[0],F=M[1],G=Object(i.useState)({CuentaDestino:"",Alias:"",Titular:"",Aprobado:!1}),K=Object(r.a)(G,2),H=K[0],R=K[1],_=Object(i.useState)([]),J=Object(r.a)(_,2),U=J[0],Y=J[1],q=function(){C.a.obtenerTodos().then(function(e){Y(e)}).catch()};Object(i.useEffect)(function(){q()},[]);var V=function(e){var t=e.target;R(function(e){return Object(c.a)({},e,Object(n.a)({},t.id,t.value))})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{title:"Gestionar Beneficiarios",items:[{name:"Beneficiarios",path:"/beneficiarios",isActive:!0}]}),l.a.createElement(N.a,null,l.a.createElement(o.a,null,l.a.createElement(s.a,{md:8},l.a.createElement(u.a,{className:"Recent-Users"},l.a.createElement(u.a.Header,null,l.a.createElement(u.a.Title,{as:"h5"},"Mis Beneficiarios")),l.a.createElement(u.a.Body,{className:"px-0 py-2"},l.a.createElement(m.a,{responsive:!0,hover:!0},l.a.createElement("tbody",null,U.map(function(e,t){return l.a.createElement("tr",{className:"unread",key:t},l.a.createElement("td",null,l.a.createElement("img",{className:"rounded-circle",style:{width:"40px"},src:y.a,alt:"activity-user"})),l.a.createElement("td",null,l.a.createElement("h6",{className:"mb-1"},e.Titular),l.a.createElement("p",{className:"m-0"},e.Alias)),l.a.createElement("td",null,"Cuenta No.",e.CuentaDestino),l.a.createElement("td",null,l.a.createElement("h6",{className:"text-muted"},0===e.Estado&&l.a.createElement("i",{className:"fa fa-circle text-c-red f-10 m-r-15"}),1===e.Estado&&l.a.createElement("i",{className:"fa fa-circle text-c-blue f-10 m-r-15"}),Object(O.a)(new Date(e.FechaCreacion)))),l.a.createElement("td",null,0===e.Estado&&l.a.createElement("label",{className:"label theme-bg1 text-white f-12"},"Inactivo"),1===e.Estado&&l.a.createElement("label",{className:"label theme-bg2 text-white f-12"},"Activo")),l.a.createElement("td",null,l.a.createElement("a",{onClick:function(t){t.preventDefault(),R({CuentaDestino:e.CuentaDestino,Alias:e.Alias,Titular:e.Titular,Aprobado:!0}),I(!0)},href:A.a.BLANK_LINK,className:"label theme-bg text-white f-12"},l.a.createElement("i",{className:"feather icon-edit-2"})),l.a.createElement("a",{href:A.a.BLANK_LINK,className:"label theme-bg1 text-white f-12"},l.a.createElement("i",{className:"feather icon-trash-2"}))))})))))),l.a.createElement(s.a,{md:4},l.a.createElement(u.a,{style:{width:"100%"}},l.a.createElement(d.a,{onSubmit:function(e){e.preventDefault(),x?C.a.editar(H).then(function(){j(!0),setTimeout(function(){R({CuentaDestino:"",Alias:"",Titular:"",Aprobado:!1}),q(),I(!1)},1e3)}).catch(function(e){e.response.data&&e.response.data.Message&&S([e.response.data.Message])}).finally(function(){return setTimeout(function(){F(!1)},2e3)}):(H.CuentaDestino||S(["Debe seleccionar una cuenta para agregar"]),H.Aprobado?(F(!0),C.a.crear(H).then(function(){j(!0),setTimeout(function(){R({CuentaDestino:"",Alias:"",Titular:"",Aprobado:!1}),q()},1e3)}).catch(function(e){e.response.data&&e.response.data.Message&&S([e.response.data.Message])}).finally(function(){return setTimeout(function(){F(!1)},2e3)})):S(["Se requiere una cuenta valida"]))}},l.a.createElement(u.a.Header,null,l.a.createElement(u.a.Title,{as:"h5"},"Formulario de beneficiario")),l.a.createElement(u.a.Body,null,l.a.createElement(o.a,null,l.a.createElement(s.a,{md:12},l.a.createElement(d.a.Group,{controlId:"CuentaDestino"},l.a.createElement(d.a.Label,null,"No. Cuenta"),l.a.createElement(d.a.Control,{onChange:V,value:H.CuentaDestino,type:"number",onFocus:function(){R(function(e){return Object(c.a)({},e,{Aprobado:!1})})},onBlur:function(e){var t=e.target;t.value&&w.a.obtener(t.value).then(function(e){R(function(t){return Object(c.a)({},t,{Titular:e.Titular,Aprobado:!0})}),S([])}).catch(function(e){S(["La cuenta de beneficiario no existe"])})},disabled:x})),l.a.createElement(d.a.Group,{controlId:"Titular"},l.a.createElement(d.a.Label,null,"Titular de la cuenta"),l.a.createElement(d.a.Control,{onChange:V,value:H.Titular,disabled:!0})),l.a.createElement(d.a.Group,{controlId:"Alias"},l.a.createElement(d.a.Label,null,"Alias"),l.a.createElement(d.a.Control,{onChange:V,value:H.Alias})),l.a.createElement(d.a.Group,{style:{textAlign:"right"}},x&&l.a.createElement(b.a,{variant:"light",disabled:P,onClick:function(){R({CuentaDestino:"",Alias:"",Titular:"",Aprobado:!1}),I(!1)}},l.a.createElement(v.a,{text:"Cancel"})),l.a.createElement(b.a,{type:"submit",variant:"secondary",disabled:P},l.a.createElement(f.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",style:{display:P?"inline-block":"none"}}),l.a.createElement(v.a,{text:P?" Validando.. ":"Guardar"}))))),l.a.createElement(o.a,null,l.a.createElement(s.a,{md:12},l.a.createElement(p.a,{errors:L})))))))),l.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"relative",minHeight:"200px"}},l.a.createElement("div",{style:{position:"absolute",top:0,right:0,width:"400px"}},l.a.createElement(E.a,{onClose:function(){return j(!1)},show:a,delay:5e3,autohide:!0},l.a.createElement(E.a.Header,{style:{backgroundColor:"rgb(63 77 103)",color:"white"}},l.a.createElement("img",{src:g.a.LogoCircular,height:50,className:"rounded mr-2",alt:""}),l.a.createElement("strong",{className:"mr-auto"},"BanCovid"),l.a.createElement("small",null,"justo ahora")),l.a.createElement(E.a.Body,null,x?"El beneficiario se ha editado correctamente.":"El beneficiario se ha creado correctamente."))))))}},84:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return c}),a.d(t,"a",function(){return r});var n=function(e){return e||(e=0),"RD $"+e.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},c=function(e){var t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear();return a<10?"".concat(t,"-0").concat(a,"-").concat(n):"".concat(t,"-").concat(a,"-").concat(n)},r=function(e){var t,a=e.getDate(),n=e.getMonth()+1,c=e.getFullYear();return t=n<10?"".concat(a,"-0").concat(n,"-").concat(c):"".concat(a,"-").concat(n,"-").concat(c),t+=" ".concat(e.getHours(),":").concat(e.getMinutes(),":").concat(e.getSeconds())}},85:function(e,t,a){"use strict";var n=a(32),c=a.n(n),r=a(31),i={obtenerTodas:function(){return new Promise(function(e,t){c.a.get("".concat("https://bancovid.azurewebsites.net","/api/cuentas/ObtenerTodos?clienteId=").concat(r.a.userData.Id)).then(function(t){e(t.data)}).catch(function(e){t(e)})})},obtener:function(e){return new Promise(function(t,a){c.a.get("".concat("https://bancovid.azurewebsites.net","/api/cuentas/Obtener/").concat(e)).then(function(e){t(e.data)}).catch(function(e){a(e)})})},estadisticas:function(e){return new Promise(function(t,a){c.a.get("".concat("https://bancovid.azurewebsites.net","/api/cuentas/estadisticas/").concat(e)).then(function(e){t(e.data)}).catch(function(e){a(e)})})}};t.a=i},86:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(15),i=a(25),l=a(82);t.a=function(e){var t=e.title,a=e.items;c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement("a",{href:l.a.BLANK_LINK},t));return document.title=t+" | BanCovid",c.a.createElement(i.a,null,c.a.createElement("div",{className:"page-header"},c.a.createElement("div",{className:"page-block"},c.a.createElement("div",{className:"row align-items-center"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("div",{className:"page-header-title"},c.a.createElement("h3",{className:"m-b-10"},t)),c.a.createElement("ul",{className:"breadcrumb"},c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement(r.b,{to:"/cuentas"},c.a.createElement("i",{className:"feather icon-home"}))),a.map(function(e){return c.a.createElement("li",{key:e.name,className:"breadcrumb-item"+(e.isActive?" active":"")},c.a.createElement(r.b,{to:e.path},e.name))})))))))}},88:function(e,t,a){"use strict";var n=a(0),c=a.n(n);t.a=function(e){var t=e.errors;return t&&t.length?c.a.createElement("div",{className:"form-errors-section"},c.a.createElement("div",{className:"icon-section"},c.a.createElement("i",{className:"feather icon-alert-circle"})),c.a.createElement("div",{className:"errors-section"},c.a.createElement("label",null,"Errores producidos"),c.a.createElement("ul",null,t.map(function(e,t){return c.a.createElement("li",{key:t},e)})))):null}},89:function(e,t,a){"use strict";var n=a(26),c=a(27),r=a(29),i=a(28),l=a(30),o=a(0),s=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.text;return e.charAt(0).toUpperCase()+e.slice(1)}}]),t}(a.n(o).a.Component);t.a=s}}]);
//# sourceMappingURL=9.66d3d775.chunk.js.map