(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{160:function(e,t,a){"use strict";a.r(t);var n=a(94),r=a.n(n),c=a(95),o=a(34),l=a(9),u=a(84),i=a(0),s=a.n(i),m=a(115),b=a(116),d=a(164),E=a(106),f=a(139),p=a(156),C=a(2),h=a(86),j=a(88),O=a(89),v=a(25),g=a(85),S=a(83),y=a(96);t.default=function(){Object(C.g)();var e=Object(i.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],k=Object(i.useState)([]),x=Object(u.a)(k,2),D=x[0],M=x[1],N=Object(i.useState)(!1),w=Object(u.a)(N,2),L=w[0],T=w[1],G=Object(i.useState)(!1),I=Object(u.a)(G,2),A=I[0],B=I[1],F=Object(i.useState)({}),q=Object(u.a)(F,2),z=q[0],J=q[1],_=Object(i.useState)({Monto:0,CuentaDestino:"-1",Cuenta:"-1"}),H=Object(u.a)(_,2),R=H[0],V=H[1],K=Object(i.useState)({}),P=Object(u.a)(K,2),Q=P[0],U=P[1],W=Object(i.useState)([]),X=Object(u.a)(W,2),Y=X[0],Z=X[1],$=Object(i.useState)([]),ee=Object(u.a)($,2),te=ee[0],ae=ee[1];Object(i.useEffect)(function(){g.a.obtenerTodas().then(function(e){Z(e)}).catch()},[]);var ne=function(e){var t=e.target;"Cuenta"===t.id&&(g.a.obtener(t.value).then(function(e){U(e)}).catch(function(e){M(["La cuenta no existe"])}),ae(Y.filter(function(e){return e.NoCuenta!==t.value}))),V(function(e){return Object(l.a)({},e,Object(o.a)({},t.id,t.value))})},re=function(){var e=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),T(!0),a=[],"-1"!==R.CuentaDestino){e.next=7;break}a.push("Debe seleccionar una cuenta a la cual transferir"),e.next=13;break;case 7:if(R.Cuenta!==R.CuentaDestino){e.next=11;break}a.push("No puedes transferir a tu misma cuenta"),e.next=13;break;case 11:return e.next=13,g.a.obtener(R.CuentaDestino).then(function(e){J(e)}).catch(function(e){a.push("La cuenta a la que desea transferir no existe")});case 13:R.Monto||a.push("Debe seleccionar un monto a transferir"),Q.Monto<R.Monto&&a.push("El monto que desea transferir no esta disponible (".concat(Object(S.c)(parseFloat(R.Monto.toString())),")")),M(a),setTimeout(function(){T(!1),0===a.length&&B(!0)},1e3);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{title:"Transferencia entre mis cuentas",items:[{name:"Cuentas",path:"/cuentas",isActive:!0},{name:"Transferencia entre mis cuentas",path:"/transaccion_mis_cuentas",isActive:!0}]}),s.a.createElement(v.a,null,A?s.a.createElement(y.a,{miCuenta:Q,cuentaDestino:z,monto:parseFloat(R.Monto.toString()),onCancel:function(){return B(!1)}}):s.a.createElement(m.a,null,s.a.createElement(b.a,{style:{width:"100%"}},s.a.createElement(d.a,{onSubmit:re},s.a.createElement(b.a.Header,null,s.a.createElement(b.a.Title,{as:"h5"},"Datos de transferencia")),s.a.createElement(b.a.Body,null,s.a.createElement(m.a,null,s.a.createElement(E.a,{md:6},s.a.createElement("h5",null,"Informaci\xf3n de mi cuenta"),s.a.createElement("hr",null),s.a.createElement(d.a.Group,{controlId:"Cuenta"},s.a.createElement(d.a.Label,null,"Mi Cuenta"),s.a.createElement(d.a.Control,{as:"select",onChange:ne,value:R.Cuenta},s.a.createElement("option",{value:"-1",disabled:!0},"Selecciona una cuenta"),Y.map(function(e){return s.a.createElement("option",{key:e.NoCuenta,value:e.NoCuenta},"No. Cuenta ",e.NoCuenta)})),s.a.createElement(d.a.Text,{className:"text-muted"},s.a.createElement("b",null,"Atenci\xf3n:")," La informaci\xf3n de la cuenta no debe ser compartida.")),s.a.createElement(d.a.Group,{controlId:"Balance"},s.a.createElement(d.a.Label,null,"Balance Actual"),s.a.createElement(d.a.Control,{value:"".concat(Object(S.c)(Q.Monto)),disabled:!0}))),s.a.createElement(E.a,{md:6},s.a.createElement("h5",null,"Informaci\xf3n de cuenta destino"),s.a.createElement("hr",null),s.a.createElement(d.a.Group,{controlId:"CuentaDestino",style:{marginBottom:"2.2rem"}},s.a.createElement(d.a.Label,null,"Cuenta a Transferir"),s.a.createElement(d.a.Control,{as:"select",onChange:ne,value:R.CuentaDestino,disabled:0===te.length},s.a.createElement("option",{value:"-1",disabled:!0},"Selecciona una cuenta"),te.map(function(e){return s.a.createElement("option",{key:e.NoCuenta,value:e.NoCuenta},"No. Cuenta ",e.NoCuenta)}))),s.a.createElement(d.a.Group,{controlId:"Monto"},s.a.createElement(d.a.Label,null,"Monto a transferir"),s.a.createElement(d.a.Control,{type:"number",onChange:ne,value:R.Monto.toString()})),s.a.createElement(d.a.Group,null,s.a.createElement(d.a.Check,{custom:!0,type:"checkbox",id:"agree",label:"(Si, estoy de acuerdo) La transferencia se efectuara por un costo de 0.15%",checked:a,onChange:function(){return n(function(e){return!e})}})),s.a.createElement(d.a.Group,{style:{textAlign:"right"}},s.a.createElement(f.a,{type:"submit",variant:"secondary",disabled:!a||L},s.a.createElement(p.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",style:{display:L?"inline-block":"none"}}),s.a.createElement(O.a,{text:L?" Validando.. ":"Realizar transferencia"}))))),s.a.createElement(m.a,null,s.a.createElement(E.a,{md:12},s.a.createElement(j.a,{errors:D})))))))))}}}]);
//# sourceMappingURL=14.ddb7866d.chunk.js.map