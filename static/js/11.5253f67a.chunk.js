(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{109:function(e,t,a){"use strict";var n=a(32),c=a.n(n),r=a(31),o={crear:function(e){return new Promise(function(t,a){e.ClienteId=r.a.userData.Id,c.a.post("".concat("https://bancovid.azurewebsites.net","/api/beneficiarios/crear"),e).then(function(e){t(e.data)}).catch(function(e){a(e)})})},editar:function(e){return new Promise(function(t,a){e.ClienteId=r.a.userData.Id,c.a.put("".concat("https://bancovid.azurewebsites.net","/api/beneficiarios/editar"),e).then(function(e){t(e.data)}).catch(function(e){a(e)})})},obtenerTodos:function(){return new Promise(function(e,t){c.a.get("".concat("https://bancovid.azurewebsites.net","/api/beneficiarios/obtenertodos?clienteId=").concat(r.a.userData.Id)).then(function(t){e(t.data)}).catch(function(e){t(e)})})}};t.a=o},158:function(e,t,a){"use strict";a.r(t);var n=a(94),c=a.n(n),r=a(95),o=a(34),i=a(9),u=a(84),l=a(0),s=a.n(l),m=a(115),b=a(116),d=a(164),f=a(106),p=a(139),E=a(156),h=a(2),C=a(86),j=a(88),O=a(89),v=a(25),D=a(109),g=a(85),w=a(83),S=a(96);t.default=function(){var e=Object(h.g)(),t=Object(h.h)().params.id,a=Object(l.useState)(!1),n=Object(u.a)(a,2),x=n[0],y=n[1],k=Object(l.useState)([]),I=Object(u.a)(k,2),M=I[0],T=I[1],N=Object(l.useState)(!1),A=Object(u.a)(N,2),L=A[0],G=A[1],z=Object(l.useState)(!1),B=Object(u.a)(z,2),F=B[0],P=B[1],q=Object(l.useState)({}),J=Object(u.a)(q,2),H=J[0],R=J[1],V=Object(l.useState)({}),K=Object(u.a)(V,2),Q=K[0],U=K[1],W=Object(l.useState)({Monto:0,CuentaDestino:"-1",Cuenta:t}),X=Object(u.a)(W,2),Y=X[0],Z=X[1],$=Object(l.useState)([]),_=Object(u.a)($,2),ee=_[0],te=_[1];Object(l.useEffect)(function(){g.a.obtener(t).then(function(e){R(e)}).catch(function(t){e.push("/cuentas")}),D.a.obtenerTodos().then(function(e){te(e)}).catch()},[]);var ae=function(e){var t=e.target;Z(function(e){return Object(i.a)({},e,Object(o.a)({},t.id,t.value))})},ne=function(){var e=Object(r.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G(!0),a=[],"-1"!==Y.CuentaDestino){e.next=7;break}a.push("Debe seleccionar una cuenta a la cual transferir"),e.next=13;break;case 7:if(H.NoCuenta!==Y.CuentaDestino){e.next=11;break}a.push("No puedes transferir a tu misma cuenta"),e.next=13;break;case 11:return e.next=13,g.a.obtener(Y.CuentaDestino).then(function(e){U(e)}).catch(function(e){a.push("La cuenta a la que desea transferir no existe")});case 13:Y.Monto||a.push("Debe seleccionar un monto a transferir"),H.Monto<Y.Monto&&a.push("El monto que desea transferir no esta disponible (".concat(Object(w.c)(parseFloat(Y.Monto.toString())),")")),T(a),setTimeout(function(){G(!1),0===a.length&&P(!0)},1e3);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{title:"Transferencia a beneficiario",items:[{name:"Cuentas",path:"/cuentas",isActive:!1},{name:"Cuenta No. ".concat(t),path:"/cuentas/".concat(t),isActive:!1},{name:"Transferencia a beneficiario",path:"/cuentas/".concat(t,"/expreso"),isActive:!0}]}),s.a.createElement(v.a,null,F?s.a.createElement(S.a,{miCuenta:H,cuentaDestino:Q,monto:parseFloat(Y.Monto.toString()),onCancel:function(){return P(!1)}}):s.a.createElement(m.a,null,s.a.createElement(b.a,{style:{width:"100%"}},s.a.createElement(d.a,{onSubmit:ne},s.a.createElement(b.a.Header,null,s.a.createElement(b.a.Title,{as:"h5"},"Datos de transferencia")),s.a.createElement(b.a.Body,null,s.a.createElement(m.a,null,s.a.createElement(f.a,{md:6},s.a.createElement("h5",null,"Informaci\xf3n de mi cuenta"),s.a.createElement("hr",null),s.a.createElement(d.a.Group,{controlId:"NoCuenta"},s.a.createElement(d.a.Label,null,"Mi Cuenta"),s.a.createElement(d.a.Control,{value:"Cuenta No. ".concat(H.NoCuenta),disabled:!0}),s.a.createElement(d.a.Text,{className:"text-muted"},s.a.createElement("b",null,"Atenci\xf3n:")," La informaci\xf3n de la cuenta no debe ser compartida.")),s.a.createElement(d.a.Group,{controlId:"Balance"},s.a.createElement(d.a.Label,null,"Balance Actual"),s.a.createElement(d.a.Control,{value:"".concat(Object(w.c)(H.Monto)),disabled:!0}))),s.a.createElement(f.a,{md:6},s.a.createElement("h5",null,"Informaci\xf3n de cuenta destino"),s.a.createElement("hr",null),s.a.createElement(d.a.Group,{controlId:"CuentaDestino",style:{marginBottom:"2.2rem"}},s.a.createElement(d.a.Label,null,"Beneficiario a Transferir"),s.a.createElement(d.a.Control,{as:"select",onChange:ae,value:Y.CuentaDestino},s.a.createElement("option",{value:"-1",disabled:!0},"Selecciona un beneficiario"),ee.map(function(e){return s.a.createElement("option",{key:e.CuentaDestino,value:e.CuentaDestino},e.Titular," - No. Cuenta ",e.CuentaDestino," (",e.Alias,")")}))),s.a.createElement(d.a.Group,{controlId:"Monto"},s.a.createElement(d.a.Label,null,"Monto a transferir"),s.a.createElement(d.a.Control,{lang:"en",type:"number",onChange:ae,value:Y.Monto.toString()})),s.a.createElement(d.a.Group,null,s.a.createElement(d.a.Check,{custom:!0,type:"checkbox",id:"agree",label:"(Si, estoy de acuerdo) La transferencia se efectuara por un costo de 0.15%",checked:x,onChange:function(){return y(function(e){return!e})}})),s.a.createElement(d.a.Group,{style:{textAlign:"right"}},s.a.createElement(p.a,{type:"submit",variant:"secondary",disabled:!x||L},s.a.createElement(E.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",style:{display:L?"inline-block":"none"}}),s.a.createElement(O.a,{text:L?" Validando.. ":"Realizar transferencia"}))))),s.a.createElement(m.a,null,s.a.createElement(f.a,{md:12},s.a.createElement(j.a,{errors:M})))))))))}}}]);
//# sourceMappingURL=11.5253f67a.chunk.js.map