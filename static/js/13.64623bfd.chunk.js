(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{159:function(e,t,a){"use strict";a.r(t);var n=a(94),c=a.n(n),r=a(95),o=a(34),l=a(9),u=a(84),i=a(0),s=a.n(i),m=a(115),b=a(116),d=a(164),f=a(106),E=a(139),p=a(156),h=a(2),C=a(86),j=a(88),O=a(89),v=a(25),g=a(85),S=a(83),x=a(96);t.default=function(){var e=Object(h.g)(),t=Object(h.h)().params.id,a=Object(i.useState)(!1),n=Object(u.a)(a,2),y=n[0],k=n[1],N=Object(i.useState)([]),D=Object(u.a)(N,2),M=D[0],w=D[1],L=Object(i.useState)(!1),T=Object(u.a)(L,2),A=T[0],G=T[1],I=Object(i.useState)(!1),B=Object(u.a)(I,2),F=B[0],q=B[1],z=Object(i.useState)({}),J=Object(u.a)(z,2),H=J[0],R=J[1],V=Object(i.useState)({}),K=Object(u.a)(V,2),P=K[0],Q=K[1],U=Object(i.useState)({Monto:0,CuentaDestino:"-1",Cuenta:t}),W=Object(u.a)(U,2),X=W[0],Y=W[1],Z=Object(i.useState)([]),$=Object(u.a)(Z,2),_=$[0],ee=$[1];Object(i.useEffect)(function(){g.a.obtener(t).then(function(e){R(e)}).catch(function(t){e.push("/cuentas")}),g.a.obtenerTodas().then(function(e){ee(e.filter(function(e){return e.NoCuenta!==t}))}).catch()},[]);var te=function(e){var t=e.target;Y(function(e){return Object(l.a)({},e,Object(o.a)({},t.id,t.value))})},ae=function(){var e=Object(r.a)(c.a.mark(function e(t){var a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),G(!0),a=[],"-1"!==X.CuentaDestino){e.next=7;break}a.push("Debe seleccionar una cuenta a la cual transferir"),e.next=13;break;case 7:if(H.NoCuenta!==X.CuentaDestino){e.next=11;break}a.push("No puedes transferir a tu misma cuenta"),e.next=13;break;case 11:return e.next=13,g.a.obtener(X.CuentaDestino).then(function(e){Q(e)}).catch(function(e){a.push("La cuenta a la que desea transferir no existe")});case 13:X.Monto||a.push("Debe seleccionar un monto a transferir"),H.Monto<X.Monto&&a.push("El monto que desea transferir no esta disponible (".concat(Object(S.c)(parseFloat(X.Monto.toString())),")")),w(a),setTimeout(function(){G(!1),0===a.length&&q(!0)},1e3);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.a,{title:"Transferencia entre mis cuentas",items:[{name:"Cuentas",path:"/cuentas",isActive:!1},{name:"Cuenta No. ".concat(t),path:"/cuentas/".concat(t),isActive:!1},{name:"Transferencia entre mis cuentas",path:"/cuentas/".concat(t,"/expreso"),isActive:!0}]}),s.a.createElement(v.a,null,F?s.a.createElement(x.a,{miCuenta:H,cuentaDestino:P,monto:parseFloat(X.Monto.toString()),onCancel:function(){return q(!1)}}):s.a.createElement(m.a,null,s.a.createElement(b.a,{style:{width:"100%"}},s.a.createElement(d.a,{onSubmit:ae},s.a.createElement(b.a.Header,null,s.a.createElement(b.a.Title,{as:"h5"},"Datos de transferencia")),s.a.createElement(b.a.Body,null,s.a.createElement(m.a,null,s.a.createElement(f.a,{md:6},s.a.createElement("h5",null,"Informaci\xf3n de mi cuenta"),s.a.createElement("hr",null),s.a.createElement(d.a.Group,{controlId:"NoCuenta"},s.a.createElement(d.a.Label,null,"Mi Cuenta"),s.a.createElement(d.a.Control,{value:"Cuenta No. ".concat(H.NoCuenta),disabled:!0}),s.a.createElement(d.a.Text,{className:"text-muted"},s.a.createElement("b",null,"Atenci\xf3n:")," La informaci\xf3n de la cuenta no debe ser compartida.")),s.a.createElement(d.a.Group,{controlId:"Balance"},s.a.createElement(d.a.Label,null,"Balance Actual"),s.a.createElement(d.a.Control,{value:"".concat(Object(S.c)(H.Monto)),disabled:!0}))),s.a.createElement(f.a,{md:6},s.a.createElement("h5",null,"Informaci\xf3n de cuenta destino"),s.a.createElement("hr",null),s.a.createElement(d.a.Group,{controlId:"CuentaDestino",style:{marginBottom:"2.2rem"}},s.a.createElement(d.a.Label,null,"Cuenta a Transferir"),s.a.createElement(d.a.Control,{as:"select",onChange:te,value:X.CuentaDestino},s.a.createElement("option",{value:"-1",disabled:!0},"Selecciona una cuenta"),_.map(function(e){return s.a.createElement("option",{key:e.NoCuenta,value:e.NoCuenta},"No. Cuenta ",e.NoCuenta)}))),s.a.createElement(d.a.Group,{controlId:"Monto"},s.a.createElement(d.a.Label,null,"Monto a transferir"),s.a.createElement(d.a.Control,{lang:"en",type:"number",onChange:te,value:X.Monto.toString()})),s.a.createElement(d.a.Group,null,s.a.createElement(d.a.Check,{custom:!0,type:"checkbox",id:"agree",label:"(Si, estoy de acuerdo) La transferencia se efectuara por un costo de 0.15%",checked:y,onChange:function(){return k(function(e){return!e})}})),s.a.createElement(d.a.Group,{style:{textAlign:"right"}},s.a.createElement(E.a,{type:"submit",variant:"secondary",disabled:!y||A},s.a.createElement(p.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",style:{display:A?"inline-block":"none"}}),s.a.createElement(O.a,{text:A?" Validando.. ":"Realizar transferencia"}))))),s.a.createElement(m.a,null,s.a.createElement(f.a,{md:12},s.a.createElement(j.a,{errors:M})))))))))}}}]);
//# sourceMappingURL=13.64623bfd.chunk.js.map